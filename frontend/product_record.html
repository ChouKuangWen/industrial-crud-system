<!DOCTYPE html>
<html lang="zh-Hant">
  <head>
    <meta charset="UTF-8">
    <title>生產紀錄 CRUD 系統</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  </head>
  <body>
    <div class="container">
      <h2 class="mb-4">生產紀錄資料管理系統</h2>

      <!-- 🚦 CRUD 操作選單 -->
      <div class="mb-4">
        <label class="form label">請選擇操作：</label>
        <select id="crudSelect" class="form-select" onchange="switchMode()">
          <option value="">-- 請選擇 --</option>
          <option value="create">C - 新增生產紀錄</option>
          <option value="read">R - 查詢生產紀錄</option>
          <option value="update">U - 修改生產紀錄</option>
          <option value="delete">D - 刪除生產紀錄</option>
        </select> 
      </div>
      
      <!-- ✅ C：新增 -->
      <div id="createBox" class="crud-box" style="display:none">
        <h4>➕ 新增生產紀錄</h4>
        <input id="c_line_id" class="form-control mb-2" placeholder="生產線">
        <input id="c_product_id" class="form-control mb-2" placeholder="產品">
        <input id="c_produced_quantity"  type="number" class="form-control mb-2" placeholder="生產數量">
        <input id="c_produced_date" type="date" class="form-control mb-2" placeholder="生產日期">
        <select id="c_shift" class="form-control mb-2" placeholder="班次">
          <option value="白班">白班</option>
          <option value="夜班">夜班</option>
        </select>
        <input id="c_operator_id" class="form-control mb-2" placeholder="操作員">  
        <button class="btn btn-primary" onclick="createProduct_record()">新增</button>
      </div>

      <!-- 🔍 R：查詢 -->
      <div id="readBox" class="crud-box" style="display:none">
        <h4>🔍 查詢生產紀錄</h4>
        <input id="r_keyword" class="form-control mb-2" placeholder="輸入工廠名稱關鍵字">
        <button class="btn btn-secondary mb-2" onclick="readProduct_record()">查詢</button>
        <table class="table table-bordered">
          <thead><tr><th>ID</th><th>生產線</th><th>產品</th><th>生產數量</th><th>生產日期</th><th>班次</th><th></th>操作員</th></tr></thead>
          <tbody id="readTable"></tbody>
        </table>
      </div>

      <!-- 📝 U：修改 -->
      <div id="updateBox" class="crud-box" style="display:none">
        <h4>📝 修改生產紀錄</h4>
        <input id="u_id" class="form-control mb-2" placeholder="輸入欲修改生產紀錄ID">
        <button class="btn btn-warning mb-3" onclick="loadUpdateProduct_record()">載入資料</button>
        <div id="updateForm" style="display:none">
          <input id="u_line_id" class="form-control mb-2" placeholder="生產線">
          <input id="u_product_id" class="form-control mb-2" placeholder="產品">
          <input id="u_produced_quantity" class="form-control mb-2" placeholder="生產數量">
          <input id="u_produced_date" type="date" class="form-control mb-2" placeholder="生產日期">
          <select id="u_shift" class="form-control mb-2" placeholder="班次">
            <option value="白班">日班</option>
            <option value="夜班">夜班</option>
          </select>
          <input id="u_operator_id" class="form-control mb-2" placeholder="操作員">
          <button class="btn btn-success" onclick="updateProduct_record()">儲存修改</button>
        </div>
      </div>

      <!-- ❌ D：刪除 -->
      <div id="deleteBox" class="crud-box" style="display:none">
        <h4>❌ 刪除生產紀錄</h4>
        <input id="d_id" class="form-control mb-2" placeholder="輸入生產紀錄ID">
        <button class="btn btn-danger" onclick="deleteProduct_record()">刪除</button>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>src="product_record.js"</script>

  </body>
</html>